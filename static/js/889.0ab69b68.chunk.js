"use strict";(self.webpackChunkyour_pet_project_frontend=self.webpackChunkyour_pet_project_frontend||[]).push([[889],{7262:function(e,t,n){n(2791);t.Z=n.p+"static/media/sprite.958c9400be173773d1597ed271ca37d3.svg"},6057:function(e,t,n){var a=n(7262),s=n(7228),r=n(184);t.Z=function(){return(0,r.jsx)("svg",{width:24,height:24,className:s.Z.iconPaw,children:(0,r.jsx)("use",{href:a.Z+"#paw-white"})})}},8923:function(e,t,n){n.r(t),n.d(t,{default:function(){return ie}});var a=n(2791),s={container:"UserPage_container__qulzD",userWrap:"UserPage_userWrap__M6J63",petsDataBox:"UserPage_petsDataBox__l8XDT"},r=n(5861),o=n(9439),c=n(4687),i=n.n(c),l=n(1413),u="UserDataItem_input__zpY4n",d="UserDataItem_btnSaved__831Wv",m="UserDataItem_btnSave__dNfL8",p="UserDataItem_btnEdit__fvgWh",h="UserDataItem_inputLable__gamLY",v=n(9434),_=n(9869),f=n(4942),x=n(1243);x.Z.defaults.baseURL="http://localhost:3030";var j=function(){var e=(0,r.Z)(i().mark((function e(t,n){var a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.Z.defaults.headers.common.Authorization="Bearer ".concat(n),(a=new FormData).append("photo",t),console.log(a),e.prev=4,e.next=7,x.Z.post("/api/users/user",a);case 7:return s=e.sent,e.abrupt("return",s.data);case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)(i().mark((function e(t,n,a){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.Z.defaults.headers.common.Authorization="Bearer ".concat(a),e.prev=1,e.next=4,x.Z.patch("/api/users/user",(0,f.Z)({},t,n));case 4:return s=e.sent,e.abrupt("return",s.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",console.log(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.Z.defaults.headers.common.Authorization="Bearer ".concat(t),e.prev=1,e.next=4,x.Z.get("/api/users/user");case 4:return n=e.sent,e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",console.log(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),N=n(184),A=function(e){var t=e.label,n=(0,v.v9)(_.v0).token,s=(0,a.useState)({photo:"",name:"",email:"",phone:"",birthday:"",city:""}),r=(0,o.Z)(s,2),c=r[0],i=r[1],f=(0,a.useState)("edit"),x=(0,o.Z)(f,2),j=x[0],b=x[1],A=(0,a.useState)(""),y=(0,o.Z)(A,2),Z=y[0],C=y[1],k=(0,a.useState)(""),B=(0,o.Z)(k,2),w=B[0],D=B[1],I=function(e){var t=e.currentTarget.value,n=e.currentTarget.name;i((function(e){return(0,l.Z)((0,l.Z)({},e),{},{nameValue:t})})),C(n),D(t)};return(0,N.jsxs)(N.Fragment,{children:["edit"===j&&(0,N.jsx)("div",{children:(0,N.jsxs)("label",{className:h,children:[t,(0,N.jsx)("input",{className:u,variant:"filled",value:c.label,placeholder:t,type:t,name:t.toLowerCase(),readOnly:"readonly"})," ",(0,N.jsxs)("button",{className:p,onClick:function(){b("editing")},children:[(0,N.jsx)("span",{className:"css.pencle-icon"}),"Edit"]})]})}),"editing"===j&&(0,N.jsx)("div",{children:(0,N.jsxs)("label",{className:h,children:[t,(0,N.jsx)("input",{className:u,variant:"filled",onChange:I,value:c.label,placeholder:t,type:t,name:t.toLowerCase()}),(0,N.jsxs)("button",{className:d,onClick:function(e){e.preventDefault(),b("edited"),g(Z,w,n).then((function(e){return i((function(t){return(0,l.Z)((0,l.Z)({},t),{},{res:e})}))})),b("edit")},children:[(0,N.jsx)("span",{className:"css.confirm-icon"}),"Save"]})]})}),"edited"===j&&(0,N.jsx)("div",{children:(0,N.jsxs)("label",{className:h,children:[t,(0,N.jsx)("input",{className:u,variant:"filled",onChange:I,value:c.label,placeholder:t,type:t,name:t}),(0,N.jsxs)("button",{className:m,children:[(0,N.jsx)("span",{className:"css.confirm-icon"}),"Save"]})]})})]})},y="UserData_inputImg__Aw9fo",Z="UserData_loading__qa2qX",C="UserData_imgUser__bEPwb",k="UserData_formStyle__SLQ5D",B="UserData_avatarDiv__MLOUj",w="UserData_btnEditPhoto__T2H4M",D="UserData_btnIsConfirmPhoto__oaJ+r",I="UserData_btnConfirmPhoto__Xn2JH",S="UserData_divreverse__tK7JM",L=function(e){e.data;var t=(0,a.useState)(""),n=(0,o.Z)(t,2),s=n[0],c=n[1],l=(0,a.useState)("save"),u=(0,o.Z)(l,2),d=u[0],m=u[1],p=(0,v.v9)(_.v0).token,h=(0,a.useState)(""),f=(0,o.Z)(h,2),x=f[0],g=f[1],L=(0,a.useState)(!1),U=(0,o.Z)(L,2),E=U[0],P=U[1];(0,a.useEffect)((function(){b(p).then((function(e){return c(e)})),console.log(s)}),[p,s]);var W=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),m("updated"),e.next=4,j(s,p).then((function(e){return g(e.avatar)}));case 4:P(!1),m("save");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h1",{children:"My Information:"}),(0,N.jsxs)("div",{className:S,children:[(0,N.jsxs)("div",{className:B,children:[(0,N.jsx)("img",{className:C,src:x,alt:""}),E&&(0,N.jsx)("h2",{className:Z,children:"...LOADING..."}),"save"===d&&(0,N.jsxs)("button",{onClick:function(e){m("confirm"),document.getElementById("fileInput").click(),document.getElementById("fileInput").addEventListener("change",(function(e){c(e.target.files[0])}))},className:w,children:[(0,N.jsx)("span",{className:"css.camera-icon"}),"Edit photo"]}),"updated"===d&&(0,N.jsxs)("button",{className:I,children:[(0,N.jsx)("span",{className:"css.camera-icon"}),"Confirm"]}),"confirm"===d&&(0,N.jsxs)("button",{onClick:W,className:D,children:[(0,N.jsx)("span",{className:"css.camera-icon"}),"Confirm"]}),(0,N.jsx)("input",{className:y,id:"fileInput",type:"file",accept:"image/*"})]}),(0,N.jsxs)("form",{className:k,autoComplete:"off",children:[" ",(0,N.jsx)(A,{label:"Name"}),(0,N.jsx)(A,{label:"Email"}),(0,N.jsx)(A,{label:"Phone"}),(0,N.jsx)(A,{label:"Birthday"}),(0,N.jsx)(A,{label:"City"})]})]})]})},U="Logout_logoutBtn__YeNeW",E=n(8724),P=function(){var e=(0,v.I0)();return(0,N.jsxs)("button",{className:U,onClick:function(){e((0,E.kS)())},children:[(0,N.jsx)("span",{className:"css.logout-icon"}),"Logout"]})},W="btnDeletePet_deleteBtn__XSXrN",O="btnDeletePet_iconTrash__ucI1G",K=n(7262),F=function(e){var t=e.onClick,n=e.name;return(0,N.jsx)("button",{className:W,name:n,type:"button",onClick:function(e){t(e)},children:(0,N.jsx)("svg",{width:24,height:24,className:O,children:(0,N.jsx)("use",{href:K.Z+"#trash"})})})},X="petsItem_box__tOvii",G="petsItem_wrapperPicDiv__oylIc",q="petsItem_description__tQ0kV",R="petsItem_infoPet__HoNK-",M=function(e){var t=e.pet,n=t.name,a=t.date,s=t.breed,r=t.avatarURL,o=t.comments;return(0,N.jsxs)("div",{className:X,children:[(0,N.jsx)("div",{className:G,children:(0,N.jsx)("img",{src:r||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAACvBAMAAAC1AP6EAAAAHlBMVEXNzc3////T09P5+fnx8fH8/Pzg4ODn5+f29vbU1NTpLY0FAAABbklEQVR42u3aQU7CQACF4QGBxuULlHWTeoHOCXShexMPoIkXmBvI0p0b72uZaBsligvTeZj/W7Ai4c+jlCZtAAAAAAAAAAAAAAAA/9PjrX52dx+mt9BRmzC9Kx13Gaa20i9sw9QWkuO3uJSOHdEPqsPUZtIfvIUssr79zNV1feOXdb6T9GyX9ape/eKWtdPek1nWStnWLGuhbGOWtVRWh9GqKZ/Vv2RhlGL5rMO1Kq2b4lmHx1aSYvGsg19iJe3ncjtvJfVi8azhLD+Olefy+k9MymKwuoKopI+5nK63kt5Fp6xKGuYyykoaRJ+sSqN1Y5OVpFEsn3XRjGONc5XOmndxGGsUS2e1eZpKn60LZ827PE3SF4Wz2nwkVfLK6sfqxWSW1WqvlldWP1ZmltXKMWveWWa1csyad5ZZZ7LMmpFFViCLrFO7XUDWKWeZ3uY0vSlsegvd9IED18czTB9mAQAAAAAAAAAAAAAAAFDQGxImZsGCDB7LAAAAAElFTkSuQmCC",alt:n})}),(0,N.jsxs)("div",{className:q,children:[(0,N.jsx)(F,{style:{position:"absolute",right:"0"}}),(0,N.jsxs)("div",{className:R,children:[(0,N.jsx)("b",{children:" Name:"})," ",n||"No Info"]}),(0,N.jsxs)("div",{className:R,children:[(0,N.jsx)("b",{children:" Date of birth:"})," ",a||"No Info"]}),(0,N.jsxs)("div",{className:R,children:[(0,N.jsx)("b",{children:"Breed:"})," ",s||"No Info"]}),(0,N.jsxs)("div",{className:R,children:[(0,N.jsx)("b",{children:" Comments:"})," ",o||"No Info"]})]})]})},T=n.p+"static/media/cat.09fa650530f84169ed39.png",z={item:"petsList_item__h1v-a",imgContainer:"petsList_imgContainer__dLicX",imgEmpty:"petsList_imgEmpty__6ukFK"},V=JSON.parse('[{"_id":"64676fa5d0841686af8bcd2a","name":"Zeus","date":"19.05.2023","breed":"Maine Coon Cat","comments":"lovely beast"," owner":"646e767193ea5da26f12a85c","__v":0,"avatarURL":"https://res.cloudinary.com/petsnode61/image/upload/v1684229498/kylgjg4bdy4s2plc0ksw.jpg"},{"_id":"64677ecb0fabb4a7d090c7ef","name":"Richard","date":"16.05.2023","breed":"Doberman dog","comments":"Nice puppy","avatarURL":"https://res.cloudinary.com/petsnode61/image/upload/v1684525076/vrvnv6lkm7tqbqbvdcz2.jpg","owner":"646e767193ea5da26f12a85c","__v":0}]'),Y=function(){var e=V,t=null===e||void 0===e?void 0:e.map((function(e){return(0,N.jsx)("li",{className:z.item,id:e._id,children:(0,N.jsx)(M,{pet:e})},e._id)}));return(0,N.jsxs)(N.Fragment,{children:[0===(null===e||void 0===e?void 0:e.length)&&(0,N.jsxs)("div",{className:z.imgContainer,children:[(0,N.jsx)("img",{className:z.imgEmpty,src:T,alt:"No pets were added"}),(0,N.jsx)("h3",{children:"No pets were added"})]}),(0,N.jsx)("ul",{className:z.list,children:t})]})},H="petsData_containerPetsDate__ArOtl",Q="petsData_boxMessage__E3Yye",J="petsData_message__X2-Z+",$=n(5200),ee=n(4245),te=n(3932),ne={title:"modalApprooveActions_title__+W9BD",approoveBtn:"modalApprooveActions_approoveBtn__qo1OW",logout:"modalApprooveActions_logout__yOVdE",btnWrapper:"modalApprooveActions_btnWrapper__1hf3i"},ae=function(){var e=(0,a.useState)(!0),t=(0,o.Z)(e,2),n=t[0],s=t[1],r=function(){s(!1)};return(0,N.jsx)("div",{className:ne.backdrop,children:(0,N.jsxs)(ee.Z,{isOpen:n,onClose:r,children:[(0,N.jsx)("h1",{className:ne.title,children:"Already leaving?"}),(0,N.jsxs)("div",{className:ne.btnWrapper,children:[(0,N.jsx)(te.Z,{customStyle:ne.approoveBtn,buttonName:"Cancel",type:"button",onClick:r}),(0,N.jsx)(te.Z,{customStyle:ne.approoveBtn,buttonName:"Yes",type:"button",buttonIcon:(0,N.jsx)("svg",{width:24,height:24,className:ne.logout,children:(0,N.jsx)("use",{href:K.Z+"#logout"})})})]})]})})},se=function(e){var t=e.pets,n=e.onRemove,s=(e.onAdd,e.isLoadingPets,(0,a.useState)(null)),r=(0,o.Z)(s,2),c=r[0],i=r[1],l=(0,a.useState)(!1),u=(0,o.Z)(l,2),d=u[0],m=u[1];return(0,N.jsxs)("div",{className:H,children:[(0,N.jsxs)("div",{className:Q,children:[(0,N.jsx)("h3",{className:J,children:"My pets:"}),(0,N.jsx)($.Z,{})]}),(0,N.jsx)(Y,{removeHandler:function(e){d(!d),i(e.currentTarget.name)},pets:t,onRemove:function(e){return n(e)}}),d&&(0,N.jsx)(ae,{onRemove:function(e){return n(e)},id:c,onClose:function(){return m(!d)}})]})},re=n(6057),oe={title:"modalCongrats_title__K++-Q",text:"modalCongrats_text__gRUaD",succesBtn:"modalCongrats_succesBtn__6AAvt",iconPaw:"modalCongrats_iconPaw__k-H6h"},ce=function(){var e=(0,a.useState)(!0),t=(0,o.Z)(e,2),n=t[0],s=t[1],r=function(){s(!1)};return(0,N.jsx)("div",{className:oe.backdrop,children:(0,N.jsxs)(ee.Z,{isOpen:n,onClose:r,children:[(0,N.jsx)("h1",{className:oe.title,children:"Congrats!"}),(0,N.jsx)("h2",{className:oe.text,children:"Youre registration is success"}),(0,N.jsx)(te.Z,{customStyle:oe.succesBtn,buttonName:"go to profile",buttonIcon:(0,N.jsx)(re.Z,{}),type:"button",onClick:r})]})})},ie=function(){var e=(0,v.v9)(_.gP),t=(0,v.I0)();return(0,a.useEffect)((function(){if(!e){var n=setTimeout((function(){t((0,E.h7)())}));return function(){clearTimeout(n)}}}),[t,e]),(0,N.jsxs)(N.Fragment,{children:[e&&(0,N.jsx)(ce,{}),(0,N.jsx)("section",{className:s.container,children:(0,N.jsxs)("div",{className:s.userWrap,children:[(0,N.jsxs)("div",{className:s.userDataBox,children:[(0,N.jsx)(L,{}),(0,N.jsx)(P,{})]}),(0,N.jsx)("div",{className:s.petsDataBox,children:(0,N.jsx)(se,{})})]})})]})}},5200:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(1087),s="add-pet-btn_Btn__l-mXc",r="add-pet-btn_icon__HnUFj",o=n(7262),c=n(184),i=function(){return(0,c.jsxs)(a.rU,{className:s,to:"/add-pet",children:["Add Pet",(0,c.jsx)("svg",{width:"24px",height:"24px",className:r,children:(0,c.jsx)("use",{href:o.Z+"#plus"})})]})}},3932:function(e,t,n){n.d(t,{Z:function(){return r}});var a="Button_button__urlvE",s=n(184),r=function(e){var t=e.customStyle,n=e.buttonName,r=e.buttonIcon,o=e.type,c=void 0===o?"button":o,i=e.onClick;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("button",{className:a+" "+t,type:c,onClick:i,children:[n,r]})})}},4245:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(2791),s=n(7262),r={backdrop:"modal_backdrop__KjkNO",modal:"modal_modal__Kap2h",closeButton:"modal_closeButton__Y2E7y",closeButtonIcon:"modal_closeButtonIcon__lqLv7"},o=n(184),c=function(){return(0,o.jsx)("svg",{width:24,height:24,className:r.closeButtonIcon,children:(0,o.jsx)("use",{href:s.Z+"#cross"})})},i=function(e){var t=e.isOpen,n=e.onClose,s=e.children,i=function(){n()};return(0,a.useEffect)((function(){var e=function(e){"Escape"===e.key&&i()},n=function(e){"backdrop"===e.target.className&&i()};return t?(document.body.style.overflow="hidden",document.addEventListener("keydown",e),document.addEventListener("click",n)):document.body.style.overflow="",function(){document.body.style.overflow="",document.removeEventListener("keydown",e),document.removeEventListener("click",n)}})),t?(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:r.backdrop,onClick:i}),(0,o.jsx)("div",{className:r.modal,children:(0,o.jsxs)("div",{className:r.modalContent,children:[(0,o.jsx)("button",{type:"button",className:r.closeButton,onClick:i,children:(0,o.jsx)(c,{className:r.closeButtonIcon})}),s]})})]}):null}},7228:function(e,t){t.Z={loginBtn:"auth-navigation_loginBtn__s2qiP",registerBtn:"auth-navigation_registerBtn__gNQYi",iconPaw:"auth-navigation_iconPaw__fqbqy"}}}]);
//# sourceMappingURL=889.0ab69b68.chunk.js.map